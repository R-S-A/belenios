<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Belenios Tool</title>
    <script src="sjcl.js"></script>
    <script src="jsbn.js"></script>
    <script src="jsbn2.js"></script>
    <script src="tool_js.js"></script>
  </head>
  <body>
    <h1>Belenios Tool</h1>
    <div id="calculator">
      <h2>Unit tests</h2>
      <div>
        <button id="do_unit_tests">Run unit tests</button>
      </div>
    </div>
    <div id="tkeygen">
      <h2>Trustee key generation</h2>
      <div>
        <h3>Group parameters</h3>
        <textarea id="tkeygen_group" rows="1" cols="80"></textarea>
      </div>
      <button id="do_tkeygen">Generate a keypair</button>
      <div>
        <h3>Generated key identifier</h3>
        <textarea id="tkeygen_id" rows="1" cols="10" readonly="readonly"></textarea>
      </div>
      <div>
        <h3>Generated secret key</h3>
        <textarea id="tkeygen_secret" rows="1" cols="80" readonly="readonly"></textarea>
      </div>
      <div>
        <h3>Generated public key</h3>
        <textarea id="tkeygen_public" rows="1" cols="80" readonly="readonly"></textarea>
      </div>
    </div>
    <div id="election">
      <h2>Election management</h2>
      <div>
        <h3>Election parameters</h3>
        <textarea id="election_params" rows="1" cols="80"></textarea>
      </div>
      <div>
        <h3>Trustee public keys</h3>
        <textarea id="election_pks" rows="1" cols="80"></textarea>
      </div>
      <div>
        <h3>Public credentials</h3>
        <textarea id="election_pubcreds" rows="1" cols="80"></textarea>
      </div>
      <div>
        <h3>Ballot creation</h3>
        Secret credential:
        <div><textarea id="election_privcred" rows="1" cols="80"></textarea></div>
        Plaintext choices:
        <div><textarea id="election_choices" rows="1" cols="80"></textarea></div>
        <button id="do_encrypt">Create encrypted ballot</button>
        <div><textarea id="election_ballot" rows="1" cols="80" readonly="readonly"></textarea></div>
      </div>
      <div>
        <h3>Ballots</h3>
        <textarea id="election_ballots" rows="1" cols="80"></textarea>
      </div>
      <div>
        <h3>Partial decryption</h3>
        Private key:
        <div><textarea id="election_privkey" rows="1" cols="80"></textarea></div>
        <button id="do_decrypt">Perform partial decryption</button>
        <div><textarea id="election_pd" rows="1" cols="80" readonly="readonly"></textarea></div>
      </div>
      <div>
        <h3>Election result</h3>
        <div><textarea id="election_factors" rows="1" cols="80"></textarea></div>
        <div><button id="do_finalize" rows="1" cols="80">Finalize</textarea></div>
        <div><textarea id="election_result" rows="1" cols="80"></textarea></div>
        <div><button id="do_verify">Verify</button></div>
      </div>
    </div>
    <div id="credgen">
      <h2>Credential management</h2>
      <div>
        <h3>Election parameters</h3>
        <div>
          UUID:
          <div><textarea id="credgen_uuid" rows="1" cols="80"></textarea></div>
        </div>
        <div>
          Group parameters:
          <div><textarea id="credgen_group" rows="1" cols="80"></textarea></div>
        </div>
      </div>
      <div>
        <h3>Generate anonymous credentials</h3>
        Number of credentials to generate:
        <div><textarea id="credgen_number"></textarea></div>
        <button id="do_credgen_generate">Generate</button>
      </div>
      <div>
        <h3>Generate credentials with identity matching</h3>
        <div>
          List of identities:
          <div><textarea id="credgen_ids"></textarea></div>
        </div>
        <button id="do_credgen_ids">Generate</button>
      </div>
      <div>
        <h3>Generated credentials</h3>
        <textarea id="credgen_generated_creds" readonly="readonly"></textarea>
      </div>
      <div>
        <h3>Generated public keys</h3>
        <textarea id="credgen_generated_pks" readonly="readonly"></textarea>
      </div>
      <div>
        <h3>Fingerprints of generated public keys</h3>
        <textarea id="credgen_generated_hashed" readonly="readonly"></textarea>
      </div>
      <div>
        <h3>Check a credential</h3>
        <div>
          Credential:
          <div><textarea id="credgen_derive_input"></textarea></div>
          <button id="do_credgen_derive">Generate public key</button>
        </div>
        <div>
          <textarea id="credgen_derive_output" rows="1" cols="80" readonly="readonly"></textarea>
        </div>
      </div>
    </div>
    <div id="mkelection">
      <h2>Election creation</h2>
      <div>
        <h3>Input</h3>
        <div>
          UUID:
          <div><textarea id="mkelection_uuid" rows="1" cols="80"></textarea></div>
        </div>
        <div>
          Group parameters:
          <div><textarea id="mkelection_group" rows="1" cols="80"></textarea></div>
        </div>
        <div>
          Public keys:
          <div><textarea id="mkelection_pks" rows="1" cols="80"></textarea></div>
        </div>
        <div>
          Template:
          <div><textarea id="mkelection_template" rows="1" cols="80"></textarea></div>
        </div>
      </div>
      <div>
        <h3>Output</h3>
        <div>
          <button id="do_mkelection">Generate</button>
          <div><textarea id="mkelection_output"></textarea></div>
        </div>
      </div>
    </div>
  </body>
</html>
